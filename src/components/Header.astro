---
const companyLogo =
  "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJmrgxuSymLUzwc4k7S2ug123-ku6a6JWffQ&s";

const navDropdowns = {
  "Our Solutions": [
    { name: "Solution 1", url: "#" },
    { name: "Solution 2", url: "#" },
    { name: "Solution 3", url: "#" },
  ],
  Resources: [
    { name: "Blog", url: "#" },
    { name: "Guides", url: "#" },
    { name: "Webinars", url: "#" },
  ],
  "About Us": [
    { name: "Company", url: "#" },
    { name: "Team", url: "#" },
    { name: "Careers", url: "#" },
  ],
  Components: [],
};
---

<header
  class="bg-gradient-to-r from-white from-15% via-red-100 via-70% to-red-200 to-90% shadow-md relative"
>
  <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo -->
    <div class="flex items-center gap-2">
      {
        companyLogo ? (
          <img src={companyLogo} alt="98Labs Logo" class="h-20 md:h-24" />
        ) : (
          <span class="text-sm md:text-base font-medium text-gray-800">
            98Labs
          </span>
        )
      }
    </div>

    <!-- Desktop Nav -->
    <nav
      class="hidden min-[920px]:flex items-center gap-8 text-sm font-bold text-black uppercase"
      aria-label="Primary"
    >
      {
        Object.entries(navDropdowns).map(([navTitle, items]) => (
          <div class="relative group inline-block" tabindex="0">
            <a href="#" class="flex items-center gap-1 whitespace-nowrap">
              {navTitle}
              {navTitle !== "Components" && (
                <svg
                  class="w-3 h-3 mt-1"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19 9l-7 7-7-7"
                  />
                </svg>
              )}
            </a>

            <ul
              class="absolute left-0 top-full translate-y-1 w-48 bg-white shadow-lg rounded-md opacity-0 invisible pointer-events-none
              group-hover:opacity-100 group-hover:visible group-hover:pointer-events-auto
              group-focus-within:opacity-100 group-focus-within:visible group-focus-within:pointer-events-auto
              transition-opacity z-50"
              role="menu"
            >
              {items.map(({ name, url }) => (
                <li>
                  <a
                    href={url}
                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-red-100 whitespace-nowrap"
                    role="menuitem"
                  >
                    {name}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </nav>

    <!-- Desktop Buttons -->
    <div class="hidden min-[920px]:flex items-center gap-4">
      <a
        href="#"
        class="bg-[#FA502E] hover:bg-[#e54822] text-white px-4 py-2 text-sm font-semibold rounded-sm uppercase flex items-center gap-1"
      >
        Free Consultation <span>â€º</span>
      </a>
      <button class="text-black hover:text-orange-500" aria-label="Search">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 stroke-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-4.35-4.35M16 10a6 6 0 11-12 0 6 6 0 0112 0z"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu Button -->
    <button id="menuToggle" class="min-[920px]:hidden" aria-label="Toggle menu">
      <svg
        class="h-6 w-6 text-black"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div id="mobileMenu" class="hidden min-[920px]:hidden px-4 pb-4">
    <nav
      class="flex flex-col gap-4 text-sm font-bold text-black uppercase"
      aria-label="Mobile Primary"
    >
      {
        Object.entries(navDropdowns).map(([navTitle, items]) => (
          <details class="group">
            <summary class="cursor-pointer flex justify-between items-center px-2 py-1 hover:underline">
              {navTitle}
              {navTitle !== "Components" && (
                <svg
                  class="w-4 h-4 ml-2 text-gray-600 group-open:rotate-180 transition-transform"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19 9l-7 7-7-7"
                  />
                </svg>
              )}
            </summary>
            <ul class="pl-4 mt-1 flex flex-col gap-1">
              {items.map(({ name, url }) => (
                <li>
                  <a href={url} class="block px-2 py-1 hover:text-orange-500">
                    {name}
                  </a>
                </li>
              ))}
            </ul>
          </details>
        ))
      }

      <a
        href="#"
        class="bg-[#FA502E] hover:bg-[#e54822] text-white px-4 py-2 text-center rounded-sm"
      >
        Free Consultation
      </a>
    </nav>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toggleBtn = document.getElementById("menuToggle");
      const mobileMenu = document.getElementById("mobileMenu");
      toggleBtn?.addEventListener("click", () => {
        mobileMenu?.classList.toggle("hidden");
      });
    });
  </script>
</header>
